name: hydrateme
base: core22
version: '1.3.6'
summary: A simple desktop app to remind you to drink water
description: |
  HydrateMe runs in your system tray and periodically reminds you 
  to drink water. Uses custom looping audio until you hydrate!
grade: stable
confinement: strict

apps:
  hydrateme:
    command: usr/bin/hydrateme
    plugs: [x11, wayland, audio-playback, desktop, desktop-legacy]
    desktop: usr/share/applications/hydrateme.desktop

parts:
  hydrateme:
    plugin: python
    source: .
    python-packages:
      - PyQt6
      - dbus-python
    build-packages:
      - libdbus-1-dev
      - pkg-config
      - python3-dev
      - gcc
      - libglib2.0-dev
    stage-packages:
      - libnotify-bin
      - pulseaudio-utils
      - libxkbcommon0
      - libegl1
      - libgl1
      - libfontconfig1
      - libx11-6
      - libdbus-1-3
      - libglib2.0-0
      - libxcb-cursor0
      - libxcb-icccm4
      - libxcb-image0
      - libxcb-keysyms1
      - libxcb-render-util0
      - libxcb-xinerama0
      - libxcb-shape0
      - libxcb-xfixes0
  desktop-entry:
    plugin: dump
    source: .
    organize:
      usr/share/applications/hydrateme.desktop: usr/share/applications/hydrateme.desktop
